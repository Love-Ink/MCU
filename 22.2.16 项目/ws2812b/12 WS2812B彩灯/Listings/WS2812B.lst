C51 COMPILER V9.54   WS2812B                                                               07/15/2019 22:45:48 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE WS2812B
OBJECT MODULE PLACED IN .\Objects\WS2812B.obj
COMPILER INVOKED BY: C:\Program Files (x86)\MCU and PCB\keil\C51\BIN\C51.EXE WS2812B.c ROM(COMPACT) OPTIMIZE(8,SPEED) BR
                    -OWSE DEBUG OBJECTEXTEND PRINT(.\Listings\WS2812B.lst) OBJECT(.\Objects\WS2812B.obj)

line level    source

   1          #include "all.H"        //头文件包含    
*** ERROR C231 IN LINE 3 OF all.H: 'u8': redefinition
*** ERROR C141 IN LINE 4 OF all.H: syntax error near 'u16'
*** ERROR C141 IN LINE 5 OF all.H: syntax error near 'u32'
*** ERROR C231 IN LINE 3 OF all.H: 'u8': redefinition
*** ERROR C141 IN LINE 4 OF all.H: syntax error near 'u16'
*** ERROR C141 IN LINE 5 OF all.H: syntax error near 'u32'
*** ERROR C202 IN LINE 21 OF SMG_Ser.H: 'HC595_Write_Buffer': undefined identifier
*** ERROR C202 IN LINE 23 OF SMG_Ser.H: 'HC595_Write_Buffer': undefined identifier
   2          u8 data WS2812_Write_Buffer[25];
   3          void WS2812_Write_Data(u8 *Point,u8 len)
   4          {
   5   1              u8 data i,j;
   6   1              u8 bdata Value;
   7   1              for(i=0;i<len;i++)
   8   1              {
   9   2                      for(j=0;j<3;j++)
  10   2                      {
  11   3                              switch(j)
  12   3                              {
  13   4                                      case 0:Value=*(Point+1);break;
  14   4                                      case 1:Value=*(Point);break;
  15   4                                      case 2:Value=*(Point+2);break;                  
  16   4                              }
  17   3                              Value=0x01;
  18   3                              WS2812_GPIO=1;//1
  19   3                              WS2812_GPIO=Value^7;
  20   3                              WS2812_GPIO=0;//3
  21   3                              
  22   3                              WS2812_GPIO=1;//1
  23   3                              WS2812_GPIO=Value^6;
  24   3                              WS2812_GPIO=0;//3
  25   3      
  26   3                              WS2812_GPIO=1;//1
  27   3                              WS2812_GPIO=Value^5;
  28   3                              WS2812_GPIO=0;//3
  29   3                              
  30   3                              WS2812_GPIO=1;//1
  31   3                              WS2812_GPIO=Value^4;
  32   3                              WS2812_GPIO=0;//3
  33   3                              
  34   3                              WS2812_GPIO=1;//1
  35   3                              WS2812_GPIO=Value^3;
  36   3                              WS2812_GPIO=0;//3
  37   3                              
  38   3                              WS2812_GPIO=1;//1
  39   3                              WS2812_GPIO=Value^2;
  40   3                              WS2812_GPIO=0;//3
  41   3      
  42   3                              WS2812_GPIO=1;//1
  43   3                              WS2812_GPIO=Value^1;
  44   3                              WS2812_GPIO=0;//3
  45   3                              
  46   3                              WS2812_GPIO=1;//1
C51 COMPILER V9.54   WS2812B                                                               07/15/2019 22:45:48 PAGE 2   

  47   3                              WS2812_GPIO=Value^0;
  48   3                              WS2812_GPIO=0;//3
  49   3                      }
  50   2                      Point+=3;
  51   2              }
  52   1      }
  53          void WS2812_Display_Ser()
  54          {
  55   1              static xdata u8 count=0;
  56   1              if(count<200)
  57   1              {
  58   2                      WS2812_GPIO=0;
  59   2                      count++;
  60   2              }
  61   1              else
  62   1              {
  63   2                      EA=0;
  64   2                      WS2812_Write_Data(WS2812_Write_Buffer+1,8);
  65   2                      EA=1;
  66   2                      count=0;
  67   2              }
  68   1      }

C51 COMPILATION COMPLETE.  0 WARNING(S),  8 ERROR(S)
